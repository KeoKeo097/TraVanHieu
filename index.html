<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CV | Trà Văn Hiếu (Hiếu Trớt Quớt)</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
  <!-- Thêm thư viện html2pdf -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  <link rel="stylesheet" href="travanhieu.css">
  <style>
    /* Optional: Styling thông báo loading */
    #loading-message {
      position: fixed;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: #000;
      color: #fff;
      padding: 10px 20px;
      border-radius: 8px;
      z-index: 9999;
      font-size: 16px;
    }
  </style>
</head>
<body>
  <div class="header">
    <button class="btn btn-outline" onclick="window.print()">
      <i class="fas fa-print"></i> In
    </button>
    <button class="btn btn-primary" onclick="downloadPDF()">
      <i class="fas fa-download"></i> Tải PDF
    </button>
  </div>

  <div id="pdf-content" class="container">
    <!-- Phần thông tin cá nhân -->
    <div class="profile animate">
      <div class="profile-image">
        <img src="/img/travanhieu.jpeg" alt="Trà Văn Hiếu (Hiếu Trớt Quớt)">
      </div>
      <div class="profile-info">
        <h1 class="profile-name">Trà Văn Hiếu (Hiếu Trớt Quớt)</h1>
        <h2 class="profile-title">Digital Creator & Flycam Specialist</h2>
        <div class="profile-details">
          <div class="profile-detail">
            <i class="fas fa-calendar"></i>
            <span>09/10</span>
          </div>
          <div class="profile-detail">
            <i class="fas fa-phone"></i>
            <span>+84 326 704 392</span>
          </div>
          <div class="profile-detail">
            <i class="fas fa-envelope"></i>
            <span>hieutv@gmail.com</span>
          </div>
          <div class="profile-detail">
            <i class="fas fa-map-marker-alt"></i>
            <span>TP. Hồ Chí Minh</span>
          </div>
          <div class="profile-detail">
            <i class="fab fa-facebook"></i>
            <span>facebook.com/travanhieu</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Nội dung chính -->
    <div class="main-content">
      <div class="left-column">
        <section class="section animate delay-1">
          <h2 class="section-title">Giới Thiệu</h2>
          <div class="section-content">
            <p class="about-text">
              Digital Creator và Flycam Specialist với kinh nghiệm chuyên sâu trong lĩnh vực sự kiện, quảng cáo và dự án sáng tạo. Chuyên quay phim sự kiện, tiệc cưới và sản xuất video quảng cáo. Sở hữu kỹ năng kỹ thuật cao và khả năng kể chuyện bằng hình ảnh.
            </p>
          </div>
        </section>

        <section class="section animate delay-2">
          <h2 class="section-title">Học Vấn</h2>
          <div class="section-content">
            <div class="education-item">
              <div class="education-school">Trường Cao đẳng Lý Tự Trọng Tp. HCM</div>
              <div class="education-degree">Quản trị kinh doanh</div>
              <div class="education-date">2018 - 2021</div>
            </div>
          </div>
        </section>

        <section class="section animate delay-3">
          <h2 class="section-title">Kỹ Năng</h2>
          <div class="section-content">
            <div class="skills-container">
              <h3 class="skills-title">Thiết Bị & Công Nghệ</h3>
              <div class="skills-list">
                <div class="skill-item">
                  <div class="skill-info">
                    <div class="skill-name">
                      <i class="fas fa-video skill-icon"></i>
                      <span>Máy quay chuyên nghiệp</span>
                    </div>
                    <div class="skill-percentage">95%</div>
                  </div>
                  <div class="skill-bar-bg">
                    <div class="skill-bar-fill" style="width: 95%;"></div>
                  </div>
                </div>
                <div class="skill-item">
                  <div class="skill-info">
                    <div class="skill-name">
                      <i class="fas fa-plane skill-icon"></i>
                      <span>Flycam/Drone</span>
                    </div>
                    <div class="skill-percentage">90%</div>
                  </div>
                  <div class="skill-bar-bg">
                    <div class="skill-bar-fill" style="width: 90%;"></div>
                  </div>
                </div>
                <div class="skill-item">
                  <div class="skill-info">
                    <div class="skill-name">
                      <i class="fas fa-lightbulb skill-icon"></i>
                      <span>Hệ thống ánh sáng</span>
                    </div>
                    <div class="skill-percentage">85%</div>
                  </div>
                  <div class="skill-bar-bg">
                    <div class="skill-bar-fill" style="width: 85%;"></div>
                  </div>
                </div>
                <div class="skill-item">
                  <div class="skill-info">
                    <div class="skill-name">
                      <i class="fab fa-adobe skill-icon"></i>
                      <span>Adobe Premiere Pro</span>
                    </div>
                    <div class="skill-percentage">80%</div>
                  </div>
                  <div class="skill-bar-bg">
                    <div class="skill-bar-fill" style="width: 80%;"></div>
                  </div>
                </div>
              </div>
            </div>

            <div class="skills-container">
              <h3 class="skills-title">Kỹ Năng Chuyên Môn</h3>
              <div class="skill-badges">
                <span class="skill-badge highlight">Quay phim sự kiện</span>
                <span class="skill-badge highlight">Quay flycam</span>
                <span class="skill-badge highlight">Dựng phim</span>
                <span class="skill-badge">Chụp ảnh</span>
                <span class="skill-badge">Thiết lập ánh sáng</span>
                <span class="skill-badge">Quay phim quảng cáo</span>
              </div>
            </div>
          </div>
        </section>

        <section class="section animate delay-4">
          <h2 class="section-title">Dịch Vụ</h2>
          <div class="section-content">
            <div class="services-grid">
              <div class="service-item">
                <div class="service-icon">
                  <i class="fas fa-video"></i>
                </div>
                <h3 class="service-title">Quay phim sự kiện</h3>
                <p class="service-description">Quay phim chuyên nghiệp cho các sự kiện, hội nghị, tiệc cưới.</p>
              </div>
              <div class="service-item">
                <div class="service-icon">
                  <i class="fas fa-plane"></i>
                </div>
                <h3 class="service-title">Quay flycam</h3>
                <p class="service-description">Quay phim từ trên cao bằng flycam, tạo góc nhìn độc đáo.</p>
              </div>
              <div class="service-item">
                <div class="service-icon">
                  <i class="fas fa-film"></i>
                </div>
                <h3 class="service-title">Sản xuất video</h3>
                <p class="service-description">Sản xuất video quảng cáo, giới thiệu sản phẩm.</p>
              </div>
            </div>
          </div>
        </section>

        <section class="section animate delay-5">
          <h2 class="section-title">Thiết Bị</h2>
          <div class="section-content">
            <ul class="awards-list">
              <li>Máy quay Sony A7S III, Alpha 7</li>
              <li>Flycam DJI Mavic 3 Pro, DJI Air 2S</li>
              <li>Gimbal DJI RS 3 Pro</li>
              <li>MacBook Pro cho dựng phim</li>
            </ul>
          </div>
        </section>
      </div>

      <div class="right-column">
        <section class="section animate delay-1">
          <h2 class="section-title">Tóm Tắt Chuyên Môn</h2>
          <div class="section-content">
            <p class="about-text">
              Digital Creator và Flycam Specialist với nhiều năm kinh nghiệm trong lĩnh vực sản xuất nội dung hình ảnh. Chuyên quay phim sự kiện, quảng cáo, và các dự án sáng tạo. Thành thạo sử dụng các thiết bị quay phim chuyên nghiệp, flycam, và hệ thống ánh sáng. Có khả năng làm việc độc lập và theo nhóm, đảm bảo chất lượng và đúng tiến độ.
            </p>
          </div>
        </section>

        <section class="section animate delay-2">
          <h2 class="section-title">Kinh Nghiệm Làm Việc</h2>
          <div class="section-content">
            <div class="experience-item">
              <div class="experience-header">
                <div>
                  <div class="experience-position">Admin & Founder</div>
                  <div class="experience-company">A - Hiếu Photo</div>
                </div>
                <div class="experience-date">2020 - Hiện tại</div>
              </div>
              <div class="experience-details">
                <ul>
                  <li>Sáng lập và điều hành studio chuyên về quay phim và chụp ảnh sự kiện</li>
                  <li>Quay phim và sản xuất video cho các sự kiện doanh nghiệp, tiệc cưới</li>
                  <li>Quay flycam cho các dự án quảng cáo và giới thiệu bất động sản</li>
                </ul>
              </div>
            </div>

            <div class="experience-item">
              <div class="experience-header">
                <div>
                  <div class="experience-position">Freelancer</div>
                  <div class="experience-company">Phóng sự & Quay phim</div>
                </div>
                <div class="experience-date">2018 - Hiện tại</div>
              </div>
              <div class="experience-details">
                <ul>
                  <li>Quay phim sự kiện, hội nghị, và tiệc cưới cho nhiều khách hàng</li>
                  <li>Quay flycam cho các dự án quảng cáo và du lịch</li>
                  <li>Sản xuất video quảng cáo và giới thiệu sản phẩm</li>
                </ul>
              </div>
            </div>

            <div class="experience-item">
              <div class="experience-header">
                <div>
                  <div class="experience-position">Former Quản Trị Viên</div>
                  <div class="experience-company">HỘI THIỆN NGUYỆN BĐS</div>
                </div>
                <div class="experience-date">2019 - 2020</div>
              </div>
              <div class="experience-details">
                <ul>
                  <li>Biên tập và dựng video cho kênh YouTube của tổ chức</li>
                  <li>Quay phim các hoạt động thiện nguyện và sự kiện</li>
                  <li>Sản xuất nội dung video cho các chiến dịch gây quỹ</li>
                </ul>
              </div>
            </div>
          </div>
        </section>

        <section class="section animate delay-3">
          <h2 class="section-title">Dự Án Nổi Bật</h2>
          <div class="section-content">
            <div class="gallery-grid">
              <div class="gallery-item">
                <img src="/img/damcuoi.jpg" alt="Chụp đám cưới">
                <div class="gallery-overlay">
                  <div class="gallery-title">Quay phim tiệc cưới</div>
                </div>
              </div>
              <div class="gallery-item">
                <img src="/img/quayphim.jpg" alt="Quay phim">
                <div class="gallery-overlay">
                  <div class="gallery-title">Quay phim chuyên nghiệp</div>
                </div>
              </div>
              <div class="gallery-item">
                <img src="/img/sukien.jpg" alt="Sự kiện">
                <div class="gallery-overlay">
                  <div class="gallery-title">Quay phim sự kiện</div>
                </div>
              </div>
              <div class="gallery-item">
                <img src="/img/quangcao.jpg" alt="Quảng cáo">
                <div class="gallery-overlay">
                  <div class="gallery-title">Quảng cáo trang sức</div>
                </div>
              </div>
              <div class="gallery-item">
                <img src="/img/sanxuatvideo.jpg" alt="Sản xuất video">
                <div class="gallery-overlay">
                  <div class="gallery-title">Sản xuất video</div>
                </div>
              </div>
              <div class="gallery-item">
                <img src="/img/flycam.jpg" alt="Flycam">
                <div class="gallery-overlay">
                  <div class="gallery-title">Quay flycam</div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <section class="section animate delay-4">
          <h2 class="section-title">Chuyên Môn</h2>
          <div class="section-content">
            <div class="skill-badges">
              <span class="skill-badge highlight">Event</span>
              <span class="skill-badge highlight">Wedding</span>
              <span class="skill-badge highlight">Advertising</span>
              <span class="skill-badge">Digital Content</span>
              <span class="skill-badge">Video Editing</span>
              <span class="skill-badge">Flycam</span>
              <span class="skill-badge">Photography</span>
              <span class="skill-badge">Lighting</span>
              <span class="skill-badge">Storytelling</span>
            </div>
          </div>
        </section>

        <section class="section animate delay-5">
          <h2 class="section-title">Mục Tiêu Nghề Nghiệp</h2>
          <div class="section-content">
            <div class="objectives-item">
              <div class="objectives-title">Mục tiêu ngắn hạn</div>
              <p class="objectives-text">Mở rộng đội ngũ và nâng cao chất lượng dịch vụ quay phim, đặc biệt là kỹ thuật quay flycam và sản xuất video quảng cáo.</p>
            </div>
            <div class="objectives-item">
              <div class="objectives-title">Mục tiêu dài hạn</div>
              <p class="objectives-text">Phát triển A-Hiếu Photo thành một trong những studio hàng đầu trong lĩnh vực sản xuất video và quay phim sự kiện tại TP.HCM.</p>
            </div>
          </div>
        </section>
      </div>
    </div>
  </div>

  <!-- JavaScript cho tính năng PDF và animation -->
  <script>
    // Khi DOMContentLoaded, ẩn các phần tử animate ban đầu
    document.addEventListener('DOMContentLoaded', function() {
      const animatedElements = document.querySelectorAll('.animate');
      animatedElements.forEach(element => {
        element.style.opacity = '0';
      });
    
      setTimeout(() => {
        animatedElements.forEach(element => {
          element.style.opacity = '1';
        });
      }, 100);
    });
    
    // Hàm animate các thanh kỹ năng
    function animateSkillBars() {
      const skillBars = document.querySelectorAll('.skill-bar-fill');
      skillBars.forEach(bar => {
        const targetWidth = bar.style.width;
        bar.style.width = '0';
        setTimeout(() => {
          bar.style.width = targetWidth;
        }, 300);
      });
    }
    
    document.addEventListener('DOMContentLoaded', function() {
      setTimeout(animateSkillBars, 500);
    });
    
    // Lưu trữ giá trị width ban đầu của các skill bar
    document.addEventListener('DOMContentLoaded', function() {
      document.querySelectorAll('.skill-bar-fill').forEach(bar => {
        bar.setAttribute('data-width', bar.style.width);
      });
    });
    
    // Đảm bảo khi in hoặc chuyển PDF, các hiệu ứng đã được tắt
    window.onbeforeprint = function() {
      document.querySelectorAll('.animate').forEach(el => {
        el.style.opacity = '1';
        el.style.animation = 'none';
      });
      document.querySelectorAll('.skill-bar-fill').forEach(bar => {
        const targetWidth = bar.getAttribute('data-width') || bar.style.width;
        bar.style.width = targetWidth;
        bar.style.animation = 'none';
      });
    };
    
    // Hàm tải PDF, chỉ khi ấn nút, đợi 6 giây cho trang ổn định
    function downloadPDF() {
      const element = document.getElementById('pdf-content');
      const images = element.querySelectorAll('img');
      const imagePromises = Array.from(images).map(img => {
        if (img.complete) return Promise.resolve();
        return new Promise(resolve => {
          img.onload = resolve;
          img.onerror = resolve;
        });
      });
    
      Promise.all(imagePromises).then(() => {
        // Tạo thông báo loading (nếu chưa có)
        let loading = document.getElementById('loading-message');
        if (!loading) {
          loading = document.createElement('div');
          loading.id = 'loading-message';
          loading.innerText = 'Đang chuẩn bị tải PDF... Vui lòng chờ 6 giây';
          document.body.appendChild(loading);
        }
    
        // Đợi 6 giây để trang hiển thị ổn định và cache đầy đủ
        setTimeout(() => {
          const opt = {
            margin: [5, 5, 5, 5],
            filename: 'CV_TraVanHieu_Quot.pdf',
            image: { type: 'jpeg', quality: 1.0 },
            html2canvas: { 
              scale: 3,
              useCORS: true,
              logging: true,
              letterRendering: true,
              allowTaint: true,
            },
            jsPDF: { 
              unit: 'mm', 
              format: 'a4', 
              orientation: 'portrait',
              compress: false
            },
            pagebreak: { mode: ['avoid-all', 'css', 'legacy'] }
          };
    
          html2pdf()
            .set(opt)
            .from(element)
            .save()
            .then(() => {
              console.log('PDF đã được tải thành công!');
              if (loading) {
                document.body.removeChild(loading);
              }
            })
            .catch(err => {
              console.error('Lỗi khi tạo PDF:', err);
              alert('Có lỗi khi tạo PDF, vui lòng thử lại!');
              if (loading) {
                document.body.removeChild(loading);
              }
            });
        }, 6000);
      });
    }
  </script>
</body>
</html>
